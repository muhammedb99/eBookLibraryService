@model eBookLibraryService.ViewModels.PaymentViewModel

@{
    ViewData["Title"] = "Process Payment";
    Layout = null;
}
<head>
	<h1>Payment Options</h1>
	<p>Select your preferred payment method:</p>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" />
    <link rel="stylesheet" href="~/css/PaymentSheet.css" />
</head>


<!-- Payment Options -->
<div>
    <!-- Credit Card Payment -->
    <div class="form-check">
        <input class="form-check-input"
               type="radio"
               name="paymentMethod"
               value="CreditCard"
               id="creditCard"
               onchange="redirectTo('CreditCardPayment', @Model.TotalAmount)" />
        <label class="form-check-label" for="creditCard">Credit Card</label>
    </div>

    <!-- PayPal Payment -->
    <div class="mt-4">
        <p>Or, pay directly with PayPal:</p>
        <a href="https://paypal.me/ebookstore22/@Model.TotalAmount.ToString("F2")" target="_blank" style="
        display: inline-block;
        background-color: #0070ba;
        color: white;
        text-align: center;
        padding: 10px 20px;
        font-size: 16px;
        border-radius: 5px;
        text-decoration: none;
        font-family: Arial, sans-serif;
        font-weight: bold;">
            Pay with PayPal
        </a>
    </div>
    <a href="@Url.Action("Index", "Cart")" class="btn btn-primary mt-3">Back</a>
</div>

<script>
    // JavaScript function to handle redirection
    function redirectTo(action, totalAmount) {
        const url = `/Payment/${action}?amount=${totalAmount}`;
        window.location.href = url;
    }
</script>
