@model eBookLibraryService.ViewModels.ProfileViewModel

<div class="container mt-5">
    <h1 class="text-center">My Profile</h1>
    <hr />

    @if (TempData["Message"] != null)
    {
        <div class="alert alert-success text-center">
            @TempData["Message"]
        </div>
    }

    <dl class="row">
        <dt class="col-sm-4">Full Name</dt>
        <dd class="col-sm-6">@Model.FullName</dd>

        <dt class="col-sm-4">Email</dt>
        <dd class="col-sm-6">@Model.Email</dd>

        <dt class="col-sm-4">Borrowed Books</dt>
        <dd class="col-sm-6">@Model.BorrowedBooks.Count</dd>

        <dt class="col-sm-4">Remaining Slots</dt>
        <dd class="col-sm-6">@Math.Max(0, 3 - Model.BorrowedBooks.Count)</dd>
    </dl>

    @if (Model.BorrowedBooks.Any())
    {
        <h4>Your Borrowed Books</h4>
        <ul>
            @foreach (var book in Model.BorrowedBooks)
            {
                <li>@book.Title - Return by @book.ReturnDate.ToShortDateString()</li>
            }
        </ul>
    }
    else
    {
        <p>You haven't borrowed any books yet.</p>
    }
</div>
